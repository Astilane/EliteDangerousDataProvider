{
  "name": "EDDI",
  "description": "A balanced, non-partisan personality",
  "scripts": {
    "Bond awarded": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "That's another {event.reward} credits in the bank.",
      "name": "Bond awarded",
      "description": "Triggered when you are awarded a combat bond"
    },
    "Fine paid": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Paid fine of {Humanise(event.amount)} credits.",
      "name": "Fine paid",
      "description": "Triggered when you pay a fine"
    },
    "Material donated": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Material donated",
      "description": "Triggered when you donate a material"
    },
    "Synthesised": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Synthesised",
      "description": "Triggered when you synthesise something from materials"
    },
    "Mission abandoned": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Mission abandoned.",
      "name": "Mission abandoned",
      "description": "Triggered when you abandon a mission"
    },
    "Mission completed": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Mission completed.",
      "name": "Mission completed",
      "description": "Triggered when you complete a mission"
    },
    "Mission accepted": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{if event.communal:\r\n    Community goal accepted.\r\n|else:\r\n    Mission for {P(event.faction)} accepted.\r\n}",
      "name": "Mission accepted",
      "description": "Triggered when you accept a mission"
    },
    "Ship delivered": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{ShipCallsign()}",
      "name": "Ship delivered",
      "description": "Triggered when your newly-purchased ship is delivered to you"
    },
    "Ship repaired": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{ShipName()} repaired.",
      "name": "Ship repaired",
      "description": "Triggered when you repair your ship"
    },
    "Ship refuelled": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{ShipName()} refuelled.",
      "name": "Ship refuelled",
      "description": "Triggered when you refuel your ship"
    },
    "Ship restocked": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{ShipName()} {OneOf(\"restocked\",\"rearmed\")}.",
      "name": "Ship restocked",
      "description": "Triggered when you restock your ship's ammunition"
    },
    "Jumping": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Destination confirmed\",\"Jump in progress\",\"Telemetry obtained\")}.\r\n{ShipName()} is {OneOf(\"heading to\", \"on route to\", \"travelling to\", \"in transit to\")} the {P(system.name)} system.\r\n{if system.name = homesystem.name:\r\n    Welcome home, {F(\"Honorific\")}\r\n|else:\r\n    {if lastsystem.allegiance && !system.allegiance:\r\n      You {OneOf(\"are leaving\", \"have left\", \"are no longer in\")} {lastsystem.allegiance} space.\r\n    |elif lastsystem.allegiance && lastsystem.allegiance != system.allegiance && system.allegiance != \"None\":\r\n        You {OneOf(\"are now in\", \"have entered\", \"are entering\")} {system.allegiance} space.\r\n        {if cmdr.title != \"Commander\":\r\n            Welcome back {F(\"Honorific\")}\r\n        }\r\n    }.\r\n\r\n    {if system.visits = 1:\r\n        This is your first visit to this system\r\n    |elif system.visits = 2:\r\n        This is your second visit to this system\r\n    |elif system.visits = 3:\r\n        This is your third visit to this system\r\n    |elif system.visits = 4:\r\n        This is your fourth visit to this system\r\n    |else:\r\n        You have visited this system {system.visits} times\r\n    }.\r\n\r\n    {if !system.population:\r\n        {OneOf(\"This system is unpopulated\",\"There is no human presence here\", \"Humans have yet to colonise this system\")}.\r\n    |else:\r\n        {F(\"System report\")}\r\n    }\r\n\r\n    {if system.distancefromhome:\r\n        {Occasionally(7, \"{OneOf(\\\"You are\\\", \\\"Current location is\\\", \\\"You are now\\\")} {Humanise(system.distancefromhome)} lightyears from {OneOf(\\\"home\\\", \\\"{P(homesystem.name)}\\\")}.\")}\r\n    }\r\n\r\n    {if system.comment:\r\n        You made a {OneOf(\"note\", \"comment\", \"remark\")} {OneOf(\"about\", \"for\", \"on\")} this system.  It {OneOf(\"is as follows\", \"says\", \"reads\", \"is\")} {system.comment}.\r\n    }\r\n}",
      "name": "Jumping",
      "description": "Triggered when you start a jump to another system"
    },
    "Limpet sold": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Limpet sold",
      "description": "Triggered when you sell limpets to a station"
    },
    "Limpet purchased": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Limpet purchased",
      "description": "Triggered when you buy limpets from a station"
    },
    "Exploration data sold": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Exploration data for {len(event.systems)} systems sold for {Humanise(event.reward)} credits\r\n\r\n{if len(event.firsts) > 0:\r\n    , with an additional bonus of {Humanise(event.bonus)} credits for\r\n    {if len(event.firsts) = 1:\r\n        one first discovery\r\n    |else:\r\n        {len(event.firsts)} first discoveries\r\n    }\r\n}\r\n.",
      "name": "Exploration data sold",
      "description": "Triggered when you sell exploration data"
    },
    "Exploration data purchased": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Purchased {OneOf('system', 'exploration')} data for {P(event.system)}\",\r\n            \"{OneOf('system', 'exploration')} data for {P(event.system)} now available\",\r\n            \"{Occasionally(3, '{ShipName()} has')} Received {OneOf('system', 'exploration')} data for {P(event.system)} from station services\",\r\n            \"Receipt of {P(event.system)} {OneOf('system', 'exploration')} data confirmed\")}.",
      "name": "Exploration data purchased",
      "description": "Triggered when you purchase exploration data"
    },
    "Material discovered": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Material discovered",
      "description": "Triggered when you discover a material"
    },
    "Material discarded": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Material discarded",
      "description": "Triggered when you discard a material"
    },
    "Material collected": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Material collected",
      "description": "Triggered when you collect a material"
    },
    "Killed": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Killed",
      "description": "Triggered when you kill another player"
    },
    "Commodity refined": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Commodity refined",
      "description": "Triggered when you refine a commodity from the refinery"
    },
    "Ship interdiction": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Ship interdiction",
      "description": "Triggered when you interdict another ship"
    },
    "Ship interdicted": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Ship interdicted",
      "description": "Triggered when your ship is interdicted by another ship"
    },
    "Commander ratings": {
      "enabled": false,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Commander ratings",
      "description": "Triggered when your ratings are reported"
    },
    "Commander progress": {
      "enabled": false,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Commander progress",
      "description": "Triggered when your progress is reported"
    },
    "Commander started": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Welcome, Commander.",
      "name": "Commander started",
      "description": "Triggered when you start a new game"
    },
    "Controlling ship": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Neural link\", \"Link\", \"Uplink\")} {OneOf(\"terminated\", \"disengaged\")}.",
      "name": "Controlling ship",
      "description": "Triggered when you switch control from your fighter to your ship"
    },
    "Crew assigned": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{if event.role = \"Active\":\r\n    {event.name} is now on active duty.\r\n|else:\r\n    {event.name} standing down from active duty.\r\n}",
      "name": "Crew assigned",
      "description": "Triggered when you assign crew"
    },
    "Crew fired": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{event.name} is no longer a member of the crew.",
      "name": "Crew fired",
      "description": "Triggered when you fire crew"
    },
    "Crew hired": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{event.name} has joined the crew.",
      "name": "Crew hired",
      "description": "Triggered when you hire crew"
    },
    "Died": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Died",
      "description": "Triggered when you have died"
    },
    "Cleared save": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Goodbye {F(\"Honorific\")}.  It was a pleasure to serve you.",
      "name": "Cleared save",
      "description": "Triggered when you clear your save"
    },
    "Ship purchased": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{P(event.ship)} purchased.",
      "name": "Ship purchased",
      "description": "Triggered when you purchase a ship"
    },
    "Trade data purchased": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Purchased trade data for {P(event.system)}\",\r\n            \"Trade data for {P(event.system)} now available\",\r\n            \"Received trade data for {P(event.system)} from station services\",\r\n            \"Receipt of {P(event.system)} trade data confirmed\")}.",
      "name": "Trade data purchased",
      "description": "Triggered when you purchase trade data"
    },
    "Ship transfer initiated": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{ShipName(event.shipid)} {OneOf(\"on its way\",\"being transferred\", \"transfer initiated\", \"being transported\", \"being transferred\")} from {P(event.system)}.",
      "name": "Ship transfer initiated",
      "description": "Triggered when you initiate a ship transfer"
    },
    "Ship swapped": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{if event.storedship:\r\n    {OneOf(\"Storing\", \"Mothballing\", \"Parking\")} {ShipName(event.storedshipid)} and\r\n|elif event.soldship:\r\n    Selling {ShipName(event.soldshipid)} and\r\n}\r\n\r\n{OneOf(\"swapping\",\"moving\",\"transferring\")} to {ShipName(event.shipid)}.",
      "name": "Ship swapped",
      "description": "Triggered when you swap a ship"
    },
    "Ship sold": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Retired {ShipName(event.shipid)} from active duty.\",\r\n             \"Decommissioned {ShipName(event.shipid)}.\",\r\n             \"Sold {ShipName(event.shipid)}.\",)}",
      "name": "Ship sold",
      "description": "Triggered when you sell a ship"
    },
    "Hull damaged": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{if event.health < 40:\r\n    Danger:\r\n|elif event.health < 60:\r\n    Warning:\r\n|elif event.health < 80:\r\n    Caution:\r\n}\r\n{OneOf(\"Hull\", \"Hull integrity\", \"Integrity\", \"Structural integrity\")} {Occasionally(3, \"is\")} at {event.health}%.\r\n",
      "name": "Hull damaged",
      "description": "Triggered when your hull is damaged to a certain extent"
    },
    "Entered signal source": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{Pause(2000)}\r\n\r\n{if event.threat < 2:\r\n  Entered signal source.\r\n|elif event.threat = 2:\r\n    Caution: medium-threat signal source.\r\n|elif event.threat = 3:\r\n    Warning: high-threat signal source.\r\n|else:\r\n    Danger: very high-threat signal source.\r\n}\r\n",
      "name": "Entered signal source",
      "description": "Triggered when your ship enters a signal source"
    },
    "Message sent": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Message away\", \"Message sent\", \"Sent\")}.",
      "name": "Message sent",
      "description": "Triggered when you send a message"
    },
    "Message received": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{if event.message = \"o7\":\r\n    {event.from} salutes\r\n    {if event.channel = \"player\":\r\n        you\r\n    }.\r\n|else:\r\n    Message received from {event.from}.  Message reads: {event.message}.\r\n}\r\n",
      "name": "Message received",
      "description": "Triggered when you receive a message"
    },
    "Ship rebooted": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Ship rebooted",
      "description": "Triggered when you run reboot/repair on your ship"
    },
    "Controlling fighter": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Neural link\", \"Link\", \"Uplink\")} {Occasionally(2, \"to fighter\")} {OneOf(\"initiated\", \"established\", \"engaged\")}.",
      "name": "Controlling fighter",
      "description": "Triggered when you switch control from your ship to your fighter"
    },
    "Self destruct": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Self-destruct sequence initiated.  Closing heat vents.",
      "name": "Self destruct",
      "description": "Triggered when you start the self destruct sequence"
    },
    "SRV launched": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Buggy\", \"SRV\")} {OneOf(\"launched\", \"away\")}.",
      "name": "SRV launched",
      "description": "Triggered when you launch an SRV from your ship"
    },
    "SRV docked": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Buggy\", \"SRV\")} docked.",
      "name": "SRV docked",
      "description": "Triggered when you dock an SRV with your ship"
    },
    "Fighter docked": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Fighter {OneOf(\"docked\", \"redocked\")} {Occasionally(2, \"with ship\")}.",
      "name": "Fighter docked",
      "description": "Triggered when you dock a fighter with your ship"
    },
    "Fighter launched": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Fighter {OneOf(\"deploying\", \"launching\")} {Occasionally(2, \"from mothership\")}.",
      "name": "Fighter launched",
      "description": "Triggered when you launch a fighter from your ship"
    },
    "Commodity sold": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{if event.amount = 1:\r\n   You have just sold one tonne of {event.commodity} for {event.price} credits\r\n|elif event.amount > 1:\r\n    You have just sold {event.amount} tonnes of {event.commodity} at {event.price} credits per tonne.  Total value is {event.amount * event.price} credits\r\n}\r\n{if event.profit < 0:\r\n    with a loss of {-1 * event.profit * event.amount} credits.\r\n|elif event.profit = 0:\r\n    and broke even on the trade.\r\n|else:\r\n    with a profit of {event.profit * event.amount} credits.\r\n}",
      "name": "Commodity sold",
      "description": "Triggered when you sell a commodity to the markets"
    },
    "Bounty incurred": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{P(event.faction)} just put a bounty of {event.bounty} credits on your head.",
      "name": "Bounty incurred",
      "description": "Triggered when you incur a bounty"
    },
    "Commodity ejected": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Commodity ejected",
      "description": "Triggered when you eject a commodity from your ship or SRV"
    },
    "Commodity purchased": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{if event.amount = 1:\r\n   You have just purchased one tonne of {event.commodity} for {event.price} credits.\r\n|elif event.amount > 1:\r\n    You have just purchased {event.amount} tonnes of {event.commodity} at {event.price} credits per tonne.  Total cost is {event.amount * event.price} credits.\r\n}",
      "name": "Commodity purchased",
      "description": "Triggered when you buy a commodity from the markets"
    },
    "Docking timed out": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "No response to our docking request.",
      "name": "Docking timed out",
      "description": "Triggered when your docking request times out"
    },
    "Docking denied": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "We have been denied docking.",
      "name": "Docking denied",
      "description": "Triggered when your ship is denied docking at a station or outpost"
    },
    "Docking granted": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{set station to StationDetails(event.station)}\r\n{if station.model = \"Coriolis Starport\" || station.model = \"Orbis Starport\" || station.model = \"Ocellus Starport\":\r\n    {Pause(8000)}\r\n    Landing pad {event.landingpad} is at\r\n    {if event.landingpad = 1:\r\n        six o'clock near\r\n    |elif event.landingpad = 2:\r\n        six o'clock near\r\n    |elif event.landingpad = 3:\r\n        six o'clock far\r\n    |elif event.landingpad = 4:\r\n        six o'clock far\r\n    |elif event.landingpad = 5:\r\n        seven o'clock near\r\n    |elif event.landingpad = 6:\r\n        seven o'clock near\r\n    |elif event.landingpad = 7:\r\n        seven o'clock\r\n    |elif event.landingpad = 8:\r\n        seven o'clock far\r\n    |elif event.landingpad = 9:\r\n        eight o'clock near\r\n    |elif event.landingpad = 10:\r\n        eight o'clock far\r\n    |elif event.landingpad = 11:\r\n        nine o'clock near\r\n    |elif event.landingpad = 12:\r\n        nine o'clock near\r\n    |elif event.landingpad = 13:\r\n        nine o'clock\r\n    |elif event.landingpad = 14:\r\n        nine o'clock far\r\n    |elif event.landingpad = 15:\r\n        nine o'clock far\r\n    |elif event.landingpad = 16:\r\n        ten o'clock near\r\n    |elif event.landingpad = 17:\r\n        ten o'clock near\r\n    |elif event.landingpad = 18:\r\n        ten o'clock far\r\n    |elif event.landingpad = 19:\r\n        ten o'clock far\r\n    |elif event.landingpad = 20:\r\n        eleven o'clock near\r\n    |elif event.landingpad = 21:\r\n        eleven o'clock near\r\n    |elif event.landingpad = 22:\r\n        eleven o'clock\r\n    |elif event.landingpad = 23:\r\n        eleven o'clock far\r\n    |elif event.landingpad = 24:\r\n        twelve o'clock near\r\n    |elif event.landingpad = 25:\r\n        twelve o'clock far\r\n    |elif event.landingpad = 26:\r\n        one o'clock near\r\n    |elif event.landingpad = 27:\r\n        one o'clock near\r\n    |elif event.landingpad = 28:\r\n        one o'clock\r\n    |elif event.landingpad = 29:\r\n        one o'clock far\r\n    |elif event.landingpad = 30:\r\n        one o'clock far\r\n    |elif event.landingpad = 31:\r\n        two o'clock near\r\n    |elif event.landingpad = 32:\r\n        two o'clock near\r\n    |elif event.landingpad = 33:\r\n        two o'clock far\r\n    |elif event.landingpad = 34:\r\n        two o'clock far\r\n    |elif event.landingpad = 35:\r\n        three o'clock near\r\n    |elif event.landingpad = 36:\r\n        three o'clock near\r\n    |elif event.landingpad = 37:\r\n        three o'clock\r\n    |elif event.landingpad = 38:\r\n        three o'clock near\r\n    |elif event.landingpad = 39:\r\n        four o'clock near\r\n    |elif event.landingpad = 40:\r\n        four o'clock far\r\n    |elif event.landingpad = 41:\r\n        five o'clock near\r\n    |elif event.landingpad = 42:\r\n        five o'clock near\r\n    |elif event.landingpad = 43:\r\n        five o'clock\r\n    |elif event.landingpad = 44:\r\n        five o'clock far\r\n    |elif event.landingpad = 45:\r\n        five o'clock far\r\n    }\r\n    , as you enter with the green lights on your right.\r\n}\r\n",
      "name": "Docking granted",
      "description": "Triggered when your ship is granted docking permission at a station or outpost"
    },
    "Docking cancelled": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Docking request cancelled.",
      "name": "Docking cancelled",
      "description": "Triggered when your ship cancels a docking request at a station or outpost"
    },
    "Docking requested": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Docking requested",
      "description": "Triggered when your ship requests docking at a station or outpost"
    },
    "Heat damage": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{Occasionally(2, \"Danger:\")}\r\nHeat damage.",
      "name": "Heat damage",
      "description": "Triggered when your ship is taking damage from excessive heat"
    },
    "Heat warning": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{Occasionally(2, \"Warning:\")}\r\nHeat levels beyond operating tolerance.",
      "name": "Heat warning",
      "description": "Triggered when your ship's heat exceeds 100%"
    },
    "Location": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "You are\r\n{if event.docked:\r\n    docked at {P(event.body)}\r\n|elif event.body:\r\n    near {P(event.body)}\r\n}\r\nin the {P(event.system)} system.",
      "name": "Location",
      "description": "Triggered when the commander's location is reported, usually when they reload their game."
    },
    "Shields down": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Shields down",
      "description": "Triggered when your ship's shields go offline"
    },
    "Shields up": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Shields up",
      "description": "Triggered when your ship's shields come online"
    },
    "Body scanned": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{Pause(1000)}\r\n\r\nScan of {P(event.name)} complete.\r\n\r\nThis is a\r\n{if event.gravity < 0.5:\r\n    low-gravity\r\n|elif event.gravity <2:\r\n    medium-gravity\r\n|elif event.gravity <4:\r\n    high-gravity\r\n|else:\r\n    extremely high-gravity\r\n}\r\n\r\n{if event.tidallylocked:\r\n    tidally-locked\r\n}\r\n\r\n{if event.terraformstate = \"Terraformable\":\r\n    terraformable\r\n|elif event.terraformstate = \"Terraformed\":\r\n    terraformed\r\n}\r\n\r\n{if len(event.rings) > 0:\r\n    ringed\r\n}\r\n\r\n{event.bodyclass}\r\n\r\n{if event.terraformstate = \"Terraforming\":\r\n  in the process of being terraformed\r\n}\r\n\r\nthat is\r\n\r\n{if event.landable:\r\n    suitable\r\n|else:\r\n    unsuitable\r\n}\r\nfor landing.\r\n\r\n{_Atmosphere }\r\n\r\n{_ Volcanism}\r\n\r\n{if event.landable :\r\n    {set goodmaterials to []}\r\n    {set greatmaterials to []}\r\n    {for material in event.materials:\r\n        {if material.percentage > material.definition.greatpctbody:\r\n            {set greatmaterials to cat(greatmaterials, [material])}\r\n        |elif material.percentage > material.definition.goodpctbody:\r\n            {set goodmaterials to cat(goodmaterials, [material])}\r\n        }\r\n    }\r\n\r\n    {if len(greatmaterials) > 0:\r\n        This body contains very high levels of\r\n        {if len(greatmaterials) = 1:\r\n            {greatmaterials[0].name}\r\n        |elif len(greatmaterials) = 2:\r\n            {greatmaterials[0].name} and {greatmaterials[1].name}\r\n        |else:\r\n            {set cur to 0}\r\n            {while cur < len(greatmaterials):\r\n                {if cur = 0:\r\n                    {greatmaterials[cur].name}\r\n                |elif cur < len(greatmaterials) - 1:\r\n                    , {greatmaterials[cur].name}\r\n                |else:\r\n                    ,and {greatmaterials[cur].name}\r\n                }\r\n                {set cur to cur + 1}\r\n            }\r\n        }\r\n    }\r\n    {if len(goodmaterials) > 0:\r\n        {if len(greatmaterials) > 0:\r\n            and high levels of\r\n        |else:\r\n            This body contains high levels of\r\n        }\r\n        {if len(goodmaterials) = 1:\r\n            {goodmaterials[0].name}\r\n        |elif len(goodmaterials) = 2:\r\n            {goodmaterials[0].name} and {goodmaterials[1].name}\r\n        |else:\r\n            {set cur to 0}\r\n            {while cur < len(goodmaterials):\r\n                {if cur = 0:\r\n                    {goodmaterials[cur].name}\r\n                |elif cur < len(goodmaterials) - 1:\r\n                    , {goodmaterials[cur].name}\r\n                |else:\r\n                    ,and {goodmaterials[cur].name}\r\n                }\r\n                {set cur to cur + 1}\r\n            }\r\n        }\r\n    }.\r\n}",
      "name": "Body scanned",
      "description": "Triggered when you complete a scan of a planetary body"
    },
    "Star scanned": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{Pause(1000)}\r\n\r\nScan of {event.stellarclass}-class star {P(event.name)} complete.\r\n\r\nThis is\r\n{if event.stellarclass = \"O\":\r\n    an incredibly rare main sequence star\r\n    {set mainsequence to true}\r\n|elif event.stellarclass = \"B\":\r\n    a very rare main sequence star\r\n    {set mainsequence to true}\r\n|elif event.stellarclass = \"A\":\r\n    a rare main sequence star\r\n    {set mainsequence to true}\r\n|elif event.stellarclass = \"F\":\r\n    an uncommon main sequence star\r\n    {set mainsequence to true}\r\n|elif event.stellarclass = \"G\":\r\n    a common main sequence star\r\n    {set mainsequence to true}\r\n|elif event.stellarclass = \"K\":\r\n    a common main sequence star\r\n    {set mainsequence to true}\r\n|elif event.stellarclass = \"M\":\r\n    a very common main sequence star\r\n    {set mainsequence to true}\r\n|elif event.stellarclass = \"L\":\r\n    a brown dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"T\":\r\n    a brown dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"Y\":\r\n    a brown dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"TTS\":\r\n    a T tauri star in the process of gravitational contraction\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"AeBe\":\r\n    a very young proto-star yet to enter main sequence {Occasionally(4, \"but on the way to becoming an A or B class star\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"W\":\r\n    an old star {Occasionally(4, \"nearing the end of its lifecycle and no longer burning hydrogen\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"WN\":\r\n    an old star {Occasionally(4, \"nearing the end of its lifecycle and no longer burning hydrogen\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"WNC\":\r\n    an old star {Occasionally(4, \"nearing the end of its lifecycle and no longer burning hydrogen\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"WC\":\r\n    an old star {Occasionally(4, \"nearing the end of its lifecycle and no longer burning hydrogen\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"WO\":\r\n    an old star {Occasionally(4, \"nearing the end of its lifecycle and no longer burning hydrogen\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"CS\":\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"C\":\r\n    a {Occasionally(2, \"late-sequence\")} carbon star {Occasionally(4, \"with an atmosphere dominated by carbon\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"CN\":\r\n    a {Occasionally(2, \"late-sequence\")} carbon star {Occasionally(4, \"with an atmosphere dominated by carbon\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"CJ\":\r\n    a {Occasionally(2, \"late-sequence\")} carbon star {Occasionally(2, \"with high levels of carbon 13 in its atmosphere\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"CH\":\r\n    a {Occasionally(2, \"late-sequence\")} carbon star {Occasionally(4, \"with an atmosphere dominated by carbon\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"CHd\":\r\n    a {Occasionally(2, \"late-sequence\")} carbon star {Occasionally(4, \"with an atmosphere dominated by carbon\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"MS\":\r\n    a late sequence star {Occasionally(4, \"that was once an M class star and is on the way to becoming a carbon star\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"S\":\r\n    a late sequence star {Occasionally(4, \"that was once an M class star and is becoming a carbon star\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"D\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DA\":\r\n    a white dwarf {Occasionally(4, \"with a hydrogen-rich atmosphere\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DAB\":\r\n    a white dwarf {Occasionally(4, \"with an atmosphere rich in hydrogen and helium\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DAO\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DAZ\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DAV\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DB\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DBZ\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DBV\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DO\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DOV\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DQ\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DC\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DCV\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"DX\":\r\n    a white dwarf\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"N\":\r\n    a neuutron star {Occasionally(4, \"that has a dangerously high-density core\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"H\":\r\n    a black hole\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"X\":\r\n    an exotic stellar entity\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"SuperMassiveBlackHole\":\r\n     a supermassive black hole\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"A_BlueWhiteSuperGiant\":\r\n    a blue-white supergiant {Occasionally(4, \"that is expanding towards being a red supergiant\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"F_WhiteSuperGiant\":\r\n    a yellow-white supergiant {Occasionally(4, \"that is expanding towards being a red supergiant\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"M_RedSuperGiant\":\r\n    a red supergiant {Occasionally(4, \"in its helium burning phase\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"M_RedGiant\":\r\n    a red giant {Occasionally(4, \"that is expanding towards being a red supergiant\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"K_OrangeGiant\":\r\n    an orange giant {Occasionally(4, \"that is expanding as it heads towards the end of its life\")}\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"RoguePlanet\":\r\n    a rogue planet\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"Nebula\":\r\n    a nebula\r\n    {set mainsequence to false}\r\n|elif event.stellarclass = \"StellarRemnantNebula\":\r\n    a nebula remnant\r\n    {set mainsequence to false}\r\n}\r\n\r\n{OneOf(\"that has been around for {Humanise(event.age)} years\",\r\n             \"that is {Humanise(event.age)} years old\",\r\n             \"of {Humanise(event.age)} years\",\r\n)}\r\n{if event.age < 1000000:\r\n    making it one of the youngest stars in the galaxy\r\n|elif event.age >14000000000:\r\n    making it one of the oldest stars in the galaxy\r\n}.\r\n\r\n{if mainsequence = true:\r\n    {Occasionally(2,\"As you can see, it emits a {event.chromaticity} light.\")}\r\n\r\n    {set notables to []}\r\n\r\n    {if event.massprobability < 0.01:\r\n        {set notables to cat(notables, [cat(\"an incredibly low solar mass of \", Humanise(event.solarmass))])}\r\n    |elif event.massprobability <0.1:\r\n        {set notables to cat(notables, [cat(\"an extremely low solar mass of \", Humanise(event.solarmass))])}\r\n    |elif event.massprobability <1:\r\n        {set notables to cat(notables, [\"an unusually low mass\"])}\r\n    |elif event.massprobability <10:\r\n        {set notables to cat(notables, [\"lower than average mass\"])}\r\n    |elif event.massprobability > 99.99:\r\n        {set notables to cat(notables, [cat(\"an incredibly high solar mass of \", Humanise(event.solarmass))])}\r\n    |elif event.massprobability > 99.9:\r\n        {set notables to cat(notables, [cat(\"an extremely high solar mass of \", Humanise(event.solarmass))])}\r\n    |elif event.massprobability > 99:\r\n        {set notables to cat(notables, [\"an unusually high mass\"])}\r\n    |elif event.massprobability > 90:\r\n        {set notables to cat(notables, [\"higher than average mass\"])}\r\n    }\r\n\r\n    {if event.radiusprobability < 0.01:\r\n        {set notables to cat(notables, [cat(\"an incredibly low solar radius of \", Humanise(event.solarradius))])}\r\n    |elif event.radiusprobability <0.1:\r\n        {set notables to cat(notables, [cat(\"an extremely low solar radius of \", Humanise(event.solarradius))])}\r\n    |elif event.radiusprobability <1:\r\n        {set notables to cat(notables, [\"an unusually low radius\"])}\r\n    |elif event.radiusprobability <10:\r\n        {set notables to cat(notables, [\"lower than average radius\"])}\r\n    |elif event.radiusprobability > 99.99:\r\n        {set notables to cat(notables, [cat(\"an extremely high solar radius of \", Humanise(event.solarradius))])}\r\n    |elif event.radiusprobability > 99.9:\r\n        {set notables to cat(notables, [cat(\"an incredibly high solar radius of \", Humanise(event.solarradius))])}\r\n    |elif event.radiusprobability > 99:\r\n        {set notables to cat(notables, [\"an unusually high radius\"])}\r\n    |elif event.radiusprobability > 90:\r\n        {set notables to cat(notables, [\"higer than average radius\"])}\r\n    }\r\n\r\n    {_ Use luminosity probability but report temperature}\r\n    {if event.luminosityprobability < 0.01:\r\n        {set notables to cat(notables, [cat(\"an incredibly low temperature of \", Humanise(event.temperature), \" kelvin\")])}\r\n    |elif event.luminosityprobability <0.1:\r\n        {set notables to cat(notables, [cat(\"an extremely low temperature of \", Humanise(event.temperature), \" kelvin\")])}\r\n    |elif event.luminosityprobability <1:\r\n        {set notables to cat(notables, [\"an unusually low temperature\"])}\r\n    |elif event.luminosityprobability <10:\r\n        {set notables to cat(notables, [\"lower than average temperature\"])}\r\n    |elif event.luminosityprobability > 99.99:\r\n        {set notables to cat(notables, [cat(\"an extremely high temperature of \", Humanise(event.temperature), \" kelvin\")])}\r\n    |elif event.luminosityprobability > 99.9:\r\n        {set notables to cat(notables, [cat(\"an incredibly high temperature of \", Humanise(event.temperature), \" kelvin\")])}\r\n    |elif event.luminosityprobability > 99:\r\n        {set notables to cat(notables, [\"an unusually high temperature\"])}\r\n    |elif event.luminosityprobability > 90:\r\n        {set notables to cat(notables, [\"higer than average temperature\"])}\r\n    }\r\n\r\n    {if len(notables) = 0:\r\n        {OneOf(\"\", \"This is a typical example of this class of star.\", \"There is nothing particularly notable about this star.\", \"It is an average example for such a star.\")}\r\n    |elif len(notables) = 1:\r\n        Compared to other stars in its class, this star is notable for having {notables[0]}.\r\n    |elif len(notables) = 2:\r\n        Compared to other stars in its class, this star is interesting, with {notables[0]} and {notables[1]}.\r\n    |elif len(notables) = 3:\r\n        Compared to other stars in its class, this star is exceptional, with {notables[0]}, {notables[1]} and {notables[2]}.\r\n    }\r\n|else:\r\n    {_ Non-main sequence stars}\r\n\r\n    {if event.stellarclass = \"H\":\r\n        \r\n    |elif event.stellarclass = \"H\":\r\n    |else:\r\n\r\n    }\r\n}\r\n",
      "name": "Star scanned",
      "description": "Triggered when you complete a scan of a stellar body"
    },
    "Cockpit breached": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Is it me, or is it cold in here?",
      "name": "Cockpit breached",
      "description": "Triggered when your ship's cockpit is broken"
    },
    "Commodity collected": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Commodity collected",
      "description": "Triggered when you pick up a commodity in your ship or SRV"
    },
    "Exploration promotion": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "You have been recognised for your exploration skills, {F(\"Honorific\")}.",
      "name": "Exploration promotion",
      "description": "Triggered when your exploration rank increases"
    },
    "Screenshot": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Screenshot",
      "description": "Triggered when you take a screenshot"
    },
    "Trade promotion": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "You have been recognised for your trading ability, {F(\"Honorific\")}.",
      "name": "Trade promotion",
      "description": "Triggered when you trade rank increases"
    },
    "Combat promotion": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "You have been recognised for your combat skills, {F(\"Honorific\")}.",
      "name": "Combat promotion",
      "description": "Triggered when your combat rank increases"
    },
    "Fine incurred": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "You owe {P(event.faction)} {Humanise(event.fine)} credits for that.",
      "name": "Fine incurred",
      "description": "Triggered when your incur a fine"
    },
    "Entered normal space": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{Pause(5000)}\r\n\r\n{OneOf(\"{ShipName()} has\", \"\")} {OneOf(\"left supercruise\", \"{OneOf(\\\"entered\\\", \\\"returned to\\\", \\\"dropped to\\\")} normal space\")}\r\n\r\n{if event.bodytype = 'Planet':\r\n    {OneOf(\"near\", \"close to\", \"in the vicinity of\")} planet {P(event.body)}\r\n|elif event.bodytype = 'Star':\r\n    {OneOf(\"near\", \"close to\", \"in the vicinity of\")} star {P(event.body)}\r\n}.\r\n\r\n{if event.bodytype = 'Station':\r\n    {Pause(10000)}\r\n    {ShipCallsign()} message confirmed.\r\n}",
      "name": "Entered normal space",
      "description": "Triggered when your ship enters normal space"
    },
    "Entered supercruise": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{Pause(1000)}\r\n\r\n{OneOf(\"{ShipName()} has\", \"\")} {OneOf(\"entered\", \"jumped to\")} supercruise.\r\n\r\n",
      "name": "Entered supercruise",
      "description": "Triggered when your ship enters supercruise"
    },
    "Bounty awarded": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{Pause(500)}\r\n{if len(event.rewards) = 1:\r\n    Bounty voucher of {Humanise(event.reward)} credits received from {P(event.rewards[0].faction)}.\r\n|elif len(event.rewards) > 1:\r\n    {len(event.rewards)} bounty vouchers received for a total of {Humanise(event.reward)} credits.\r\n}\r\n",
      "name": "Bounty awarded",
      "description": "Triggered when you are awarded a bounty"
    },
    "Commander continued": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Welcome back {F(\"Honorific\")}.",
      "name": "Commander continued",
      "description": "Triggered when you continue an existing game"
    },
    "Liftoff": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Lift off.",
      "name": "Liftoff",
      "description": "Triggered when your ship lifts off from a planet's surface"
    },
    "Touchdown": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "Touchdown.\r\n\r\n{Pause(2000)}\r\n\r\nCo-ordinates are {event.longitude} degrees longitude, {event.latitude} degrees latitude.",
      "name": "Touchdown",
      "description": "Triggered when your ship touches down on a planet's surface"
    },
    "Undocked": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{OneOf(\"Full control re-established\", \"Docking clamps free\", \"Disengaged from local networks\")}.\r\n\r\n{Pause(5000)}\r\n\r\n{F(\"Limpet check\")}\r\n",
      "name": "Undocked",
      "description": "Triggered when your ship undocks from a station or outpost"
    },
    "Docked": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{Pause(2000)}\r\n\r\n{OneOf(\"Establishing uplink with\",\r\n             \"Initiating link to\",\r\n             \"Connecting to \",\r\n             \"Accessing\")}\r\n{OneOf(\"local\", \"station\", \"{event.station}'s\")}\r\n{OneOf(\"data net\", \"network\", \"networks\", \"computers\", \"services\")}.\r\n\r\n{Pause(10000)}\r\n\r\n{OneOf(\"Uplink\", \"Link\", \"Access\", \"Connection\")} {OneOf(\"established\", \"confirmed\", \"obtained\", \"authorised\")}.\r\n\r\n{F(\"Commodity sale check\")}\r\n\r\n{if ship.role = \"Multi-purpose\" || ship.role = \"Trading\":\r\n    {F(\"Commodity purchase check\")}\r\n}\r\n\r\n{F(\"Swapout check\")}\r\n\r\n{F(\"Limpet check\")}",
      "name": "Docked",
      "description": "Triggered when your ship docks at a station or outpost"
    },
    "Jumped": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": null,
      "name": "Jumped",
      "description": "Triggered when you complete a jump to another system"
    },
    "Galnet news published": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{if len(event.items) = 1:\r\n    A new Galnet article has been published, entitled {event.items[0].title}.\r\n|elif len(event.items) > 1:\r\n    {len(event.items)} new Galnet articles have been published.  Their titles are\r\n    {set item to 0}\r\n    {while item < len(event.items):\r\n        {if item = len(event.items) - 1:\r\n            and {event.items[item].title}\r\n        |else:\r\n            {event.items[item].title},\r\n        }\r\n        {set item to item + 1}\r\n    }.\r\n}\r\n",
      "name": "Galnet news published",
      "description": "Triggered when news is published on Galnet"
    },
    "Cargo ejected": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{event.cargo} ejected.",
      "name": "Cargo ejected",
      "description": "Triggered when you eject cargo from your ship or SRV"
    },
    "Cargo collected": {
      "enabled": true,
      "priority": 3,
      "responder": true,
      "script": "{event.cargo} now on board.",
      "name": "Cargo collected",
      "description": "Triggered when you pick up cargo in your ship or SRV"
    },
    "Honorific": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "{if system.allegiance = \"Empire\":\r\n    {if cmdr.empirerating <= 4:\r\n       commander\r\n    |elif cmdr.empirerating = 5:\r\n        sir\r\n    |elif cmdr.empirerating <= 11:\r\n        my lord\r\n    |elif cmdr.empirerating = 12:\r\n        your grace\r\n    |elif cmdr.empirerating = 13:\r\n        your royal highness\r\n    |elif cmdr.empirerating = 14:\r\n        your majesty\r\n    }\r\n|elif system.allegiance = \"Federation\":\r\n    {if cmdr.federationrating= 0:\r\n        commander\r\n    |else:\r\n        {cmdr.federationrating.name}\r\n    }\r\n|else:\r\n    commander\r\n}\r\n",
      "name": "Honorific",
      "description": "Function to provide a suitable honorific for your commander"
    },
    "Station report": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "Nothing of interest here.",
      "name": "Station report",
      "description": "Function to report on the details of the current station"
    },
    "System report": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "{OneOf(\"This is\", \"This system is\", \"{P(system.name)} is\")}\r\n{if system.allegiance = \"Federation\":\r\n    a Federation\r\n|elif system.allegiance = \"Empire\":\r\n    an Empire\r\n|else:\r\n    an independent\r\n}\r\n{if system.government:\r\n    {system.government}\r\n|else:\r\n  system\r\n}\r\n{OneOf(\"of\", \"with a population of\", \"home to\", \"supporting\")} {Humanise(system.population)} {OneOf(\"people\", \"souls\")}\r\n{if system.power:\r\n    , {OneOf(\"aligned to\", \"allied with\", \"controlled by\")} {P(system.power)}\r\n}.\r\n\r\n{if system.faction:\r\n  {P(system.faction)} is the {OneOf(\"controlling\", \"local\", \"immediate\")} {OneOf(\"power\", \"faction\")}.\r\n}\r\n\r\n{if len(system.stations) = 0:\r\n  There are no stations\r\n|else:\r\n    {if len(system.orbitalstations) = 0:\r\n        {if len(system.planetarystations) = 1:\r\n            There is {OneOf(\"a single\", \"a lone\", \"just one\", \"one\")} planetary station\r\n        |else:\r\n            There are {len(system.planetarystations)} planetary stations\r\n        }\r\n    |elif len(system.orbitalstations) = 1:\r\n        There is {OneOf(\"a single\", \"a lone\", \"just one\", \"one\")} orbital station\r\n        {if len(system.planetarystations) = 1:\r\n            and {OneOf(\"a lone\", \"a single\", \"one\")} planetary station\r\n        |elif len(system.planetarystations) > 1:\r\n            and {len(system.planetarystations)} planetary stations\r\n        }\r\n    |else:\r\n        There are {len(system.orbitalstations)} orbital stations\r\n        {if len(system.planetarystations) = 1:\r\n            and {OneOf(\"a lone\", \"a single\", \"one\")} planetary station\r\n        |elif len(system.planetarystations) > 1:\r\n            and {len(system.planetarystations)} planetary stations\r\n        }\r\n    }\r\n}\r\n{OneOf(\"here\", \"in this system\")}.\r\n\r\n{if system.state = \"Boom\":\r\n    This system is undergoing a boom; there might be good trading profits to be made here.\r\n|elif system.state = \"Civil War\":\r\n    This system is in civil war; caution is advised.\r\n|elif system.state = \"Famine\":\r\n    This system is in a state of famine; caution is advised.\r\n|elif system.state = \"Lockdown\":\r\n    This system is in lockdown; caution is advised.\r\n|elif system.state = \"Outbreak\":\r\n    This system is attempting to contain an outbreak of disease; caution is advised.\r\n|elif system.state = \"War\":\r\n    This system is at war; caution is advised.\r\n}",
      "name": "System report",
      "description": "Function to report on the details of the current star system"
    },
    "Limpet check": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "{set  controllers to 0}\r\n{for compartment in ship.compartments:\r\n    {if find(compartment.module.name, \"Controller\") != -1:\r\n        {set controllers to controllers + 1}\r\n    }\r\n}\r\n\r\n{set limpets to 0}\r\n{for cargo in ship.cargo:\r\n    {if cargo.commodity.name = \"Limpet\":\r\n        {set limpets to limpets + cargo.amount}\r\n    }\r\n}\r\n{set tenpercent to ship.cargocapacity / 10 - 1}\r\n{if controllers > 0 && limpets = 0:\r\n    Reminder: you have a limpet controller but are not carrying any limpets.\r\n|elif controllers = 0 && limpets > 0:\r\n    You are carrying limpets but no limpet controller.\r\n|elif controllers > 0 && limpets < tenpercent:\r\n    You only have {limpets} limpets on-board; you might want to consider re-stocking.\r\n}\r\n",
      "name": "Limpet check",
      "description": "Check for the presence/absence of limpets and limpet controllers"
    },
    "Security presence report": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "{if system.population > 0:\r\n    There is\r\n    {if system.security = \"None\":\r\n        no\r\n    |elif system.security = \"Low\":\r\n        {OneOf(\"minimal\", \"low\", \"weak\")}\r\n    |elif system.security = \"Medium\":\r\n        {OneOf(\"standard\", \"medium\", \"average\")}\r\n    |elif system.security = \"High\":\r\n        {OneOf(\"high\", \"heavy\", \"strong\")}\r\n    |else:\r\n        {system.security}\r\n    }\r\n    {OneOf(\"police\", \"security\", \"law enforcement\")} presence {OneOf(\"here\", \"in this system\", \"in the locality\")}.\r\n}",
      "name": "Security presence report",
      "description": "Function to report on the details of system security"
    },
    "Insurance check": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "{set insurance to round(ship.value * cmdr.insurance / 100)}\r\n\r\n{set covereds to round((cmdr.credits / insurance) - 0.5)}\r\n\r\n{if covereds = 0:\r\n  Danger: you do not have enough credits to cover your insurance excess.\r\n|elif covereds = 1:\r\n  Caution: you onlt have enough credits to cover a single insurance excess.\r\n}\r\n",
      "name": "Insurance check",
      "description": "Check for enough credits to cover your insurance"
    },
    "Damage check": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "{_ Track if there is any damage}\r\n{set damaged to 0}\r\n\r\n{_ Announce hull health}\r\n{if ship.health < 100:\r\n    Hull at {Humanise(ship.health)}%.\r\n    {set damaged to 1}\r\n}\r\n\r\n{_ Announce critical module health}\r\n\r\n{set minordamage to []}\r\n{set majordamage to []}\r\n\r\n{if ship.powerplant.health < 60:\r\n    {set majordamage to cat(majordamage, [ship.powerplant])}\r\n|elif ship.powerplant.health < 100:\r\n    {set minordamage to cat(minordamage, [ship.powerplant])}\r\n}\r\n\r\n{if ship.thrusters.health < 60:\r\n    {set majordamage to cat(majordamage, [ship.thrusters])}\r\n|elif ship.thrusters.health < 100:\r\n    {set minordamage to cat(minordamage, [ship.thrusters])}\r\n}\r\n\r\n{if ship.frameshiftdrive.health < 60:\r\n    {set majordamage to cat(majordamage, [ship.frameshiftdrive])}\r\n|elif ship.frameshiftdrive.health < 100:\r\n    {set minordamage to cat(minordamage, [ship.frameshiftdrive])}\r\n}\r\n\r\n{if ship.powerdistributor.health < 60:\r\n    {set majordamage to cat(majordamage, [ship.powerdistributor])}\r\n|elif ship.powerdistributor.health < 100:\r\n    {set minordamage to cat(minordamage, [ship.powerdistributor])}\r\n}\r\n\r\n{if ship.lifesupport.health < 60:\r\n    {set majordamage to cat(majordamage, [ship.lifesupport])}\r\n|elif ship.lifesupport.health < 100:\r\n    {set minordamage to cat(minordamage, [ship.lifesupport])}\r\n}\r\n\r\n{if ship.sensors.health < 60:\r\n    {set majordamage to cat(majordamage, [ship.sensors])}\r\n|elif ship.sensors.health < 100:\r\n    {set minordamage to cat(minordamage, [ship.sensors])}\r\n}\r\n\r\n{if len(majordamage) > 0:\r\n    {set damaged to 1}\r\n    Major damage to\r\n    {if len(majordamage) = 1:\r\n        {majordamage[0].name}\r\n    |elif len(majordamage) = 2:\r\n        {majordamage[0].name} and {majordamage[1].name}\r\n    |else:\r\n        {set cur to 0}\r\n        {while cur < len(majordamage):\r\n            {if cur = 0:\r\n                {majordamage[cur].name}\r\n            |elif cur < len(majordamage) - 1:\r\n                , {majordamage[cur].name}\r\n            |else:\r\n                ,and {majordamage[cur].name}\r\n            }\r\n            {set cur to cur + 1}\r\n        }\r\n    }.\r\n}\r\n\r\n{if len(minordamage) > 0:\r\n    {set damaged to 1}\r\n    Minor damage to\r\n    {if len(minordamage) = 1:\r\n        {minordamage[0].name}\r\n    |elif len(minordamage) = 2:\r\n        {minordamage[0].name} and {minordamage[1].name}\r\n    |else:\r\n        {set cur to 0}\r\n        {while cur < len(minordamage):\r\n            {if cur = 0:\r\n                {minordamage[cur].name}\r\n            |elif cur < len(minordamage) - 1:\r\n                , {minordamage[cur].name}\r\n            |else:\r\n                ,and {minordamage[cur].name}\r\n            }\r\n            {set cur to cur + 1}\r\n        }\r\n    }.\r\n}\r\n\r\n{_ Announce other module health}\r\n\r\n{set minordamage to []}\r\n{set majordamage to []}\r\n\r\n{for compartment in ship.compartments:\r\n    {if compartment.module.health < 60:\r\n        {set majordamage to cat(majordamage, [compartment.module.name])}\r\n    |elif hardpoint.module.health < 100:\r\n        {set minordamage to cat(minordamage, [compartment.module.name])}\r\n    }\r\n}\r\n\r\n{for hardpoint in ship.hardpoints:\r\n    {if hardpoint.module.health < 60:\r\n        {set majordamage to cat(majordamage, [hardpoint.module.name])}\r\n    |elif hardpoint.module.health < 100:\r\n        {set minordamage to cat(minordamage, [hardpiont.module.name])}\r\n    }\r\n}\r\n\r\n{if len(majordamage) > 0:\r\n    {set damaged to 1}\r\n    {if len(majordamage) = 1:\r\n       One other ship component with major damage\r\n    |elif len(majordamage) > 1:\r\n        {len(majordamage)} other ship components with major damage\r\n    }\r\n    {if len(minordamage) = 1:\r\n       and one other ship component with minor damage\r\n    |elif len(minordamage) > 1:\r\n       and {len(minordamage)} other ship components with minor damage\r\n    }.\r\n|elif len(minordamage) = 1:\r\n    {set damaged to 1}\r\n    One other ship component with minor damage.\r\n|elif len(minordamage) > 1:\r\n    {set damaged to 1}\r\n    {len(minordamage)} other ship components with minor damage.\r\n}\r\n\r\n{if damaged = 0:\r\n    {OneOf(\"All systems fully operational.\", \"{ShipName()} is fully operational.\", \"{ShipName()} is undamaged.\")}\r\n}\r\n",
      "name": "Damage check",
      "description": "Check on the levels of damage to your ship"
    },
    "Swapout check": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "{_ Function to find a given module in outfitting}\r\n{set outfitting(module) to:\r\n    {for outfittingmodule in station.outfitting:\r\n        {if outfittingmodule.EDDBID = module.EDDBID:\r\n            {return outfittingmodule}\r\n        }\r\n    }\r\n}\r\n\r\n{_ Function to report if a module is cheaper in outfitting that on the ship}\r\n{set reportIfCheaper(shipmodule) to:\r\n    {set outfittingmodule to outfitting(shipmodule)}\r\n    {if outfittingmodule:\r\n        {if outfittingmodule.price < shipmodule.price:\r\n            {set saving to shipmodule.price - outfittingmodule.price}\r\n            You could save {Humanise(saving)} credits by swapping out your {shipmodule.name} here.\r\n        }\r\n    }\r\n}\r\n\r\n{reportIfCheaper(ship.powerplant)}\r\n{reportIfCheaper(ship.thrusters)}\r\n{reportIfCheaper(ship.frameshiftdrive)}\r\n{reportIfCheaper(ship.lifesupport)}\r\n{reportIfCheaper(ship.powerdistributor)}\r\n{reportIfCheaper(ship.sensors)}\r\n{for hardpoint in ship.hardpoints:\r\n    {if hardpoint.module:\r\n        {reportIfCheaper(hardpoint.module)}\r\n    }\r\n}\r\n{for compartment in ship.compartments:\r\n    {if compartment.module:\r\n        {reportIfCheaper(compartment.module)}\r\n    }\r\n}\r\n",
      "name": "Swapout check",
      "description": "Check to see if any fitted modules are available more cheaply here"
    },
    "Commodity purchase check": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "{for commodity in station.commodities:\r\n    {if commodity.stock > 0 && commodity.buyprice < commodity.avgprice:\r\n        {set discount to commodity.avgprice - commodity.buyprice}\r\n        {if discount > best.avgprice - best.buyprice:\r\n            {set thirdbest to secondbest}\r\n            {set secondbest to best}\r\n            {set best to commodity}\r\n        |elif discount > secondbest.avgprice - secondbest.buyprice:\r\n            {set thirdbest to secondbest}\r\n            {set secondbest to commodity}\r\n        |elif discount > thirdbest.avgprice - thirdbest.buyprice:\r\n            {set thirdbest to commodity}\r\n        }\r\n    }\r\n}\r\n\r\n{if best:\r\n    The local market is selling {best.name} at a good price\r\n    {if secondbest\r\n       , as well as {secondbest.name}\r\n        {if thirdbest:\r\n            and {thirdbest.name}\r\n        }\r\n    }\r\n.}\r\n",
      "name": "Commodity purchase check",
      "description": "Check to see which commodities are the best to purchase"
    },
    "Commodity sale check": {
      "enabled": true,
      "priority": 3,
      "responder": false,
      "script": "{_ Function to find a given commodity in market}\r\n{set market(commodity) to:\r\n    {for marketcommodity in station.commodities:\r\n        {if marketcommodity.EDDBID = commodity.EDDBID:\r\n            {return marketcommodity}\r\n        }\r\n    }\r\n}\r\n\r\n{for cargo in ship.cargo:\r\n    {set marketcommodity to market(cargo.commodity)}\r\n    {if marketcommodity && marketcommodity.demand > 0 && marketcommodity.sellprice > cargo.price:\r\n        You can sell your {cargo.commodity.name} here for a profit of {marketcommodity.sellprice - cargo.price} credits per tonne.\r\n    }\r\n}\r\n",
      "name": "Commodity sale check",
      "description": "Check to see which commodities can be sold here"
    }
  }
}
