using Microsoft.VisualStudio.TestTools.UnitTesting;
using EliteDangerousDataDefinitions;
using EliteDangerousDataProviderService;

namespace Tests
{
    [TestClass]
    public class StarSystemDataTests
    {
        [TestMethod]
        public void TestMerope()
        {
            string data = @"{""updated_at"": 1451665590, ""security"": null, ""id"": 21120, ""needs_permit"": 0, ""y"": -149.625, ""government"": null, ""simbad_ref"": ""Merope"", ""stations"": [], ""allegiance"": null, ""state"": null, ""x"": -78.59375, ""name"": ""Merope"", ""power"": null, ""faction"": null, ""primary_economy"": null, ""power_state"": null, ""population"": null, ""z"": -340.53125}";

            StarSystem starSystem = DataProviderService.StarSystemFromEDDP(data);

            Assert.AreEqual("Merope", starSystem.Name);
            Assert.IsNull(starSystem.Allegiance);
            Assert.IsNull(starSystem.Government);
            Assert.IsNull(starSystem.PrimaryEconomy);
            Assert.AreEqual(0, starSystem.Population);

            Assert.AreEqual(-78.59375, starSystem.X);
            Assert.AreEqual(-149.625, starSystem.Y);
            Assert.AreEqual(-340.53125, starSystem.Z);
        }

        [TestMethod]
        public void TestSol()
        {
            string data = @"{""updated_at"": 1451665540, ""security"": ""High"", ""id"": 17072, ""needs_permit"": 1, ""y"": 0, ""government"": ""Democracy"", ""simbad_ref"": """", ""stations"": [{""has_blackmarket"": 0, ""economies"": [""Service""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""None"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1446272933, ""outfitting_updated_at"": 1453171427, ""export_commodities"": [""Biowaste""], ""market_updated_at"": 1453171426, ""type"": ""Orbis Starport"", ""has_shipyard"": 1, ""is_planetary"": 0, ""has_commodities"": 1, ""name"": ""Abraham Lincoln"", ""faction"": ""Mother Gaia"", ""import_commodities"": [""Gold"", ""Palladium"", ""Platinum""], ""has_rearm"": 1, ""shipyard_updated_at"": 1453048100, ""selling_ships"": [""Adder"", ""Eagle Mk. II"", ""Federal Dropship"", ""Orca"", ""Sidewinder Mk. I"", ""Viper Mk III"", ""Vulture""], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 496}, {""has_blackmarket"": 0, ""economies"": [""Refinery""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""None"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1444494465, ""outfitting_updated_at"": 1453049928, ""export_commodities"": [""Cobalt"", ""Gold"", ""Silver""], ""market_updated_at"": 1453049928, ""type"": ""Ocellus Starport"", ""has_shipyard"": 1, ""is_planetary"": 0, ""has_commodities"": 1, ""name"": ""Galileo"", ""faction"": ""Mother Gaia"", ""import_commodities"": [""Bertrandite"", ""Gallite"", ""Indite""], ""has_rearm"": 1, ""shipyard_updated_at"": 1453049928, ""selling_ships"": [""Eagle Mk. II"", ""Federal Dropship"", ""Hauler"", ""Sidewinder Mk. I"", ""Type-7 Transporter"", ""Type-9 Heavy"", ""Vulture""], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 505}, {""has_blackmarket"": 1, ""economies"": [""Service""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""Lockdown"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1444494465, ""outfitting_updated_at"": 1453135260, ""export_commodities"": [""Biowaste""], ""market_updated_at"": 1453135258, ""type"": ""Unknown Starport"", ""has_shipyard"": 1, ""is_planetary"": 0, ""has_commodities"": 1, ""name"": ""Li Qing Jao"", ""faction"": ""Federal Congress"", ""import_commodities"": [""Gold"", ""Palladium"", ""Platinum""], ""has_rearm"": 1, ""shipyard_updated_at"": 1453135265, ""selling_ships"": [""Cobra Mk. III"", ""Eagle Mk. II"", ""Federal Dropship"", ""Type-6 Transporter"", ""Viper Mk III"", ""Vulture"", ""Viper MK IV"", ""Cobra MK IV""], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 506}, {""has_blackmarket"": 0, ""economies"": [""Service""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""None"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1444494465, ""outfitting_updated_at"": 1453171848, ""export_commodities"": [""Biowaste""], ""market_updated_at"": 1453171847, ""type"": ""Orbis Starport"", ""has_shipyard"": 1, ""is_planetary"": 0, ""has_commodities"": 1, ""name"": ""M.Gorbachev"", ""faction"": ""Mother Gaia"", ""import_commodities"": [""Gold"", ""Palladium"", ""Platinum""], ""has_rearm"": 1, ""shipyard_updated_at"": 1453171854, ""selling_ships"": [""Cobra Mk. III"", ""Eagle Mk. II"", ""Federal Dropship"", ""Type-6 Transporter"", ""Viper Mk III"", ""Vulture"", ""Viper MK IV""], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 506}, {""has_blackmarket"": 1, ""economies"": [""Refinery""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""Lockdown"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1444494465, ""outfitting_updated_at"": 1453256361, ""export_commodities"": [""Cobalt"", ""Gold"", ""Silver""], ""market_updated_at"": 1453256360, ""type"": ""Orbis Starport"", ""has_shipyard"": 1, ""is_planetary"": 0, ""has_commodities"": 1, ""name"": ""Daedalus"", ""faction"": ""Federal Congress"", ""import_commodities"": [""Bertrandite"", ""Gallite"", ""Indite""], ""has_rearm"": 1, ""shipyard_updated_at"": 1453256366, ""selling_ships"": [""Eagle Mk. II"", ""Federal Dropship"", ""Hauler"", ""Sidewinder Mk. I"", ""Type-7 Transporter"", ""Type-9 Heavy"", ""Vulture""], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 225}, {""has_blackmarket"": 0, ""economies"": [""Service""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""None"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1452013050, ""outfitting_updated_at"": 1453170548, ""export_commodities"": [""Biowaste""], ""market_updated_at"": 1453170547, ""type"": ""Orbis Starport"", ""has_shipyard"": 1, ""is_planetary"": 0, ""has_commodities"": 1, ""name"": ""Mars High"", ""faction"": ""Sol Workers' Party"", ""import_commodities"": [""Gold"", ""Palladium"", ""Platinum""], ""has_rearm"": 1, ""shipyard_updated_at"": 1453170553, ""selling_ships"": [""Cobra Mk. III"", ""Eagle Mk. II"", ""Federal Dropship"", ""Type-6 Transporter"", ""Viper Mk III"", ""Vulture"", ""Viper MK IV""], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 699}, {""has_blackmarket"": 0, ""economies"": [""Refinery""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""None"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste"", ""Lucan Onion Head""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1444494465, ""outfitting_updated_at"": 1453254560, ""export_commodities"": [""Aluminium"", ""Copper"", ""Limpet""], ""market_updated_at"": 1453254559, ""type"": ""Ocellus Starport"", ""has_shipyard"": 1, ""is_planetary"": 0, ""has_commodities"": 1, ""name"": ""Columbus"", ""faction"": ""Mother Gaia"", ""import_commodities"": [""Beer"", ""Wine"", ""Grain""], ""has_rearm"": 1, ""shipyard_updated_at"": 1453254561, ""selling_ships"": [""Adder"", ""Eagle Mk. II"", ""Federal Dropship"", ""Hauler"", ""Sidewinder Mk. I"", ""Type-6 Transporter"", ""Type-9 Heavy"", ""Viper Mk III"", ""Vulture""], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 2477}, {""has_blackmarket"": 0, ""economies"": [""Refinery""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""None"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1452013013, ""outfitting_updated_at"": 1453255917, ""export_commodities"": [""Cobalt"", ""Gold"", ""Silver""], ""market_updated_at"": 1453255917, ""type"": ""Orbis Starport"", ""has_shipyard"": 1, ""is_planetary"": 0, ""has_commodities"": 1, ""name"": ""Titan City"", ""faction"": ""Mother Gaia"", ""import_commodities"": [""Bertrandite"", ""Gallite"", ""Indite""], ""has_rearm"": 1, ""shipyard_updated_at"": 1453256082, ""selling_ships"": [""Cobra Mk. III"", ""Eagle Mk. II"", ""Federal Dropship"", ""Sidewinder Mk. I"", ""Type-6 Transporter"", ""Viper Mk III"", ""Vulture"", ""Viper MK IV"", ""Cobra MK IV""], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 4589}, {""has_blackmarket"": 0, ""economies"": [""Refinery""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""None"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1444494465, ""outfitting_updated_at"": 1453170185, ""export_commodities"": [""Cobalt"", ""Gold"", ""Silver""], ""market_updated_at"": 1453170183, ""type"": ""Civilian Outpost"", ""has_shipyard"": 0, ""is_planetary"": 0, ""has_commodities"": 1, ""name"": ""Burnell Station"", ""faction"": ""Sol Workers' Party"", ""import_commodities"": [""Bertrandite"", ""Gallite"", ""Indite""], ""has_rearm"": 1, ""shipyard_updated_at"": null, ""selling_ships"": [], ""max_landing_pad_size"": ""M"", ""distance_to_star"": 364}, {""has_blackmarket"": 1, ""economies"": [""Industrial""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""Boom"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste"", ""Bootleg Liquor"", ""Landmines"", ""Nerve Agents""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1451821312, ""outfitting_updated_at"": 1453161294, ""export_commodities"": [""Food Cartridges"", ""Crop Harvesters"", ""Thermal Cooling Units""], ""market_updated_at"": 1453161292, ""type"": ""Planetary Outpost"", ""has_shipyard"": 0, ""is_planetary"": 1, ""has_commodities"": 1, ""name"": ""Ehrlich City"", ""faction"": ""Sol Workers Party"", ""import_commodities"": [""Polymers"", ""Copper"", ""Natural Fabrics""], ""has_rearm"": 1, ""shipyard_updated_at"": null, ""selling_ships"": [], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 209}, {""has_blackmarket"": 0, ""economies"": [""Military""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""Boom"", ""government"": ""Democracy"", ""prohibited_commodities"": [], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1451037064, ""outfitting_updated_at"": 1452897059, ""export_commodities"": [], ""market_updated_at"": 1452897059, ""type"": ""Planetary Outpost"", ""has_shipyard"": 0, ""is_planetary"": 1, ""has_commodities"": 1, ""name"": ""Haberlandt Survey"", ""faction"": ""Sol Workers party"", ""import_commodities"": [], ""has_rearm"": 1, ""shipyard_updated_at"": null, ""selling_ships"": [], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 2498}, {""has_blackmarket"": 1, ""economies"": [""Industrial""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""Boom"", ""government"": ""Democracy"", ""prohibited_commodities"": [], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1451037160, ""outfitting_updated_at"": 1453020574, ""export_commodities"": [], ""market_updated_at"": 1453020574, ""type"": ""Planetary Outpost"", ""has_shipyard"": 0, ""is_planetary"": 1, ""has_commodities"": 1, ""name"": ""Furukawa Enterprise"", ""faction"": ""Sol Workers Party"", ""import_commodities"": [], ""has_rearm"": 1, ""shipyard_updated_at"": null, ""selling_ships"": [], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 204}, {""has_blackmarket"": 1, ""economies"": [""Industrial""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""Boom"", ""government"": ""Democracy"", ""prohibited_commodities"": [], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1451037234, ""outfitting_updated_at"": 1452526178, ""export_commodities"": [], ""market_updated_at"": 1452526177, ""type"": ""Planetary Outpost"", ""has_shipyard"": 0, ""is_planetary"": 1, ""has_commodities"": 1, ""name"": ""Walz Depot"", ""faction"": ""Sol Workers Party"", ""import_commodities"": [], ""has_rearm"": 1, ""shipyard_updated_at"": null, ""selling_ships"": [], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 205}, {""has_blackmarket"": 1, ""economies"": [""Colony""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""None"", ""government"": ""Democracy"", ""prohibited_commodities"": [], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1451039540, ""outfitting_updated_at"": 1451964764, ""export_commodities"": [], ""market_updated_at"": 1451964763, ""type"": ""Unknown Planetary"", ""has_shipyard"": 0, ""is_planetary"": 1, ""has_commodities"": 1, ""name"": ""Durrance Camp"", ""faction"": ""Sol Workers Party"", ""import_commodities"": [], ""has_rearm"": 1, ""shipyard_updated_at"": null, ""selling_ships"": [], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 2498}, {""has_blackmarket"": 1, ""economies"": [""Colony""], ""has_outfitting"": 1, ""has_repair"": 1, ""system_id"": 17072, ""allegiance"": ""Federation"", ""state"": ""Boom"", ""government"": ""Democracy"", ""prohibited_commodities"": [""Narcotics"", ""Tobacco"", ""Combat Stabilisers"", ""Imperial Slaves"", ""Slaves"", ""Personal Weapons"", ""Battle Weapons"", ""Toxic Waste"", ""Bootleg Liquor"", ""Landmines"", ""Nerve Agents""], ""has_market"": 1, ""has_refuel"": 1, ""updated_at"": 1452905323, ""outfitting_updated_at"": 1453079863, ""export_commodities"": [""Hydrogen Fuel"", ""Biowaste"", ""Limpet""], ""market_updated_at"": 1453079860, ""type"": ""Planetary Port"", ""has_shipyard"": 0, ""is_planetary"": 1, ""has_commodities"": 1, ""name"": ""Schottky Reformatory"", ""faction"": ""Sol Nationalists"", ""import_commodities"": [], ""has_rearm"": 1, ""shipyard_updated_at"": null, ""selling_ships"": [], ""max_landing_pad_size"": ""L"", ""distance_to_star"": 2495}], ""allegiance"": ""Federation"", ""state"": ""None"", ""x"": 0, ""name"": ""Sol"", ""power"": ""Zachary Hudson"", ""faction"": ""Federal Congress"", ""primary_economy"": ""Service"", ""power_state"": ""Control"", ""population"": 16999999880, ""z"": 0}";

            StarSystem starSystem = DataProviderService.StarSystemFromEDDP(data);

            Assert.AreEqual("Sol", starSystem.Name);
            Assert.AreEqual("Federation", starSystem.Allegiance);
            Assert.AreEqual("Democracy", starSystem.Government);
            Assert.AreEqual("Service", starSystem.PrimaryEconomy);
            Assert.AreEqual(16999999880, starSystem.Population);
            Assert.AreEqual(0, starSystem.X);
            Assert.AreEqual(0, starSystem.Y);
            Assert.AreEqual(0, starSystem.Z);
        }
    }
}
